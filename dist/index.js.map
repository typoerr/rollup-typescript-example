{"version":3,"file":"index.js","sources":["../node_modules/@typoerr/atomic/dist/esm/misc.js","../node_modules/@typoerr/atomic/dist/esm/function.js","../src/index.ts"],"sourcesContent":["export function identity(a, ..._rest) {\n    return a;\n}\nexport function constant(v) {\n    return (..._) => v;\n}\n/**\n * Check that value is not undefined or null\n */\nexport function existy(v) {\n    return v != null;\n}\n/**\n * no operation\n */\nexport function noop(..._) {\n    /* no operation */\n}\nexport function range(a, b, c = 1) {\n    const [start, end] = arguments.length === 1 ? [0, a] : [a, b];\n    const step = c === 0 ? c : Math.sign(end - start) >= 0 ? Math.abs(c) : Math.abs(c) * -1;\n    let current = start;\n    const result = [];\n    const comparator = director(start, end, step, result);\n    while (comparator(current)) {\n        result.push(current);\n        current += step;\n    }\n    return result;\n    function director(start, end, step, result) {\n        if (step === 0)\n            return () => result.length + 1 < end;\n        if (start <= end)\n            return (cur) => cur < end;\n        return (cur) => cur > end;\n    }\n}\n/**\n * Throw Error\n */\nexport function throwErr(err) {\n    const _err = typeof err === 'string' ? new Error(err) : err;\n    throw _err;\n}\n//# sourceMappingURL=misc.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { constant } from './misc';\nexport function once(callback) {\n    let invoked = false;\n    let ret;\n    return (...args) => {\n        if (!invoked) {\n            invoked = true;\n            return (ret = callback(...args));\n        }\n        return ret;\n    };\n}\nexport function before(n, cb) {\n    return (...args) => {\n        return --n >= 0 ? cb(...args) : undefined;\n    };\n}\nexport function after(n, cb) {\n    return (...args) => {\n        return --n > 0 ? undefined : cb(...args);\n    };\n}\nexport function delayed(ms, cb) {\n    return (...args) => {\n        return new Promise((resolve) => {\n            const tid = setTimeout(() => {\n                clearTimeout(tid);\n                resolve(cb(...args));\n            }, ms);\n        });\n    };\n}\nexport function compose(...funcs) {\n    return funcs.reduceRight((a, b) => (...args) => a(b(...args)));\n}\ncompose.async = composeAsync;\nexport function composeAsync(...funcs) {\n    return funcs.reduceRight((a, b) => (...args) => __awaiter(this, void 0, void 0, function* () { return a(yield b(...args)); }));\n}\nexport function when(predicate, onTrue, onFalse = constant(undefined)) {\n    return (...args) => {\n        if (predicate.apply(undefined, args)) {\n            return onTrue.apply(undefined, args);\n        }\n        else {\n            return onFalse.apply(undefined, args);\n        }\n    };\n}\n//# sourceMappingURL=function.js.map",null],"names":["this"],"mappings":";;;;AAAO,SAAS,QAAQ,CAAC,CAAC,EAAE,GAAG,KAAK,EAAE;AACtC,IAAI,OAAO,CAAC,CAAC;AACb;;ACFA,IAAI,SAAS,GAAG,CAACA,IAAI,IAAIA,IAAI,CAAC,SAAS,KAAK,UAAU,OAAO,EAAE,UAAU,EAAE,CAAC,EAAE,SAAS,EAAE;AACzF,IAAI,SAAS,KAAK,CAAC,KAAK,EAAE,EAAE,OAAO,KAAK,YAAY,CAAC,GAAG,KAAK,GAAG,IAAI,CAAC,CAAC,UAAU,OAAO,EAAE,EAAE,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE;AAChH,IAAI,OAAO,KAAK,CAAC,KAAK,CAAC,GAAG,OAAO,CAAC,EAAE,UAAU,OAAO,EAAE,MAAM,EAAE;AAC/D,QAAQ,SAAS,SAAS,CAAC,KAAK,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE;AACnG,QAAQ,SAAS,QAAQ,CAAC,KAAK,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE;AACtG,QAAQ,SAAS,IAAI,CAAC,MAAM,EAAE,EAAE,MAAM,CAAC,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC,EAAE;AACtH,QAAQ,IAAI,CAAC,CAAC,SAAS,GAAG,SAAS,CAAC,KAAK,CAAC,OAAO,EAAE,UAAU,IAAI,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC;AAC9E,KAAK,CAAC,CAAC;AACP,CAAC;;SCNe,KAAK;IACnB,OAAO,QAAQ,CAAC,OAAO,CAAC,CAAA;AAC1B;;;;"}